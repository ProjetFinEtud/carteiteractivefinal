{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import BootstrapTable from\"react-bootstrap-table-next\";import Button from\"react-bootstrap/Button\";import Modal from\"react-bootstrap/Modal\";import Form from\"react-bootstrap/Form\";import Box from\"@mui/material/Box\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Domaine=()=>{const navigate=useNavigate();const[data,setData]=useState([]);const[selectedDomaine,setSelectedDomaine]=useState(null);const[modifiedDomaine,setModifiedDomaine]=useState(null);const[showModal,setShowModal]=useState(false);const[showImageModal,setShowImageModal]=useState(false);const[selectedImage,setSelectedImage]=useState(null);const[errors,setErrors]=useState({dom_nom:\"\",dom_icone:\"\"});const[isEditing,setIsEditing]=useState(false);useEffect(()=>{const fetchData=async()=>{try{const response=await fetch(\"/domaine/alldomaines\",{headers:{accessToken:sessionStorage.getItem(\"accessToken\")}});if(!response.ok){console.error(\"Erreur lors de la récupération des données:\",response.status);navigate(\"/\");return;}const jsonData=await response.json();const newData=jsonData.columns.map(item=>({dom_id:item.dom_id,dom_nom:item.dom_nom,dom_icone:item.dom_icone}));setData(newData);}catch(error){console.error(\"Erreur lors de la récupération des données:\",error.message);navigate(\"/\");}};fetchData();},[navigate]);const handleInputChange=e=>{const{name,value,files}=e.target;if(files){setModifiedDomaine(prevState=>({...prevState,[name]:files[0]}));setErrors(prevErrors=>({...prevErrors,dom_icone:\"\"}));}else{setModifiedDomaine(prevState=>({...prevState,[name]:value}));setErrors(prevErrors=>({...prevErrors,dom_nom:\"\"}));}};const validateForm=()=>{const newErrors={...errors};if(!modifiedDomaine.dom_nom){newErrors.dom_nom=\"Veuillez entrer un nom de domaine\";}else{newErrors.dom_nom=\"\";}if(!modifiedDomaine.dom_icone){newErrors.dom_icone=\"Veuillez importer une icone\";}else{newErrors.dom_icone=\"\";}setErrors(newErrors);// Le formulaire est valide s'il n'y a pas d'erreurs\nreturn Object.values(newErrors).every(error=>!error);};const updateTableData=updatedData=>{setData(updatedData);};const handleValidation=async()=>{try{var id=null;var image=null;var validation=null;if(!isEditing){validation=validateForm();if(!validation){console.log(\"error\");return;}}const formData=new FormData();formData.append(\"dom_nom\",modifiedDomaine.dom_nom);formData.append(\"dom_id\",modifiedDomaine.dom_id);if(modifiedDomaine.dom_icone){formData.append(\"image\",modifiedDomaine.dom_icone);}const url=isEditing?\"/domaine/updatedomaines\":\"/domaine/adddomaines\";const response=await fetch(url,{method:isEditing?\"PUT\":\"POST\",headers:{accessToken:sessionStorage.getItem(\"accessToken\")},body:formData}).then(response=>response.json()).then(data=>{id=data.message;image=data.returnimage;});const updatedData=[...data];const index=updatedData.findIndex(item=>item.dom_id===modifiedDomaine.dom_id);if(index!==-1){modifiedDomaine.dom_icone=image;updatedData[index]=modifiedDomaine;updateTableData(updatedData);}else{modifiedDomaine.dom_id=id;modifiedDomaine.dom_icone=image;updateTableData(updatedData);}handleCloseModal();}catch(error){console.error(\"Erreur lors de la validation des modifications:\",error);}};const handleShowImageModal=()=>{setShowImageModal(true);};const handleCloseImageModal=()=>{setShowImageModal(false);};const handleShowImage=imageUrl=>{setSelectedImage(imageUrl);handleShowImageModal(true);};const handleCloseModal=()=>{setShowModal(false);setSelectedDomaine(null);setModifiedDomaine(null);setIsEditing(false);// Réinitialisation du mode édition après la fermeture de la modal\n};const handleEdit=domaine=>{setSelectedDomaine(domaine);setModifiedDomaine({...domaine});setShowModal(true);setIsEditing(true);// Définition du mode édition à vrai\n};const handleAdd=()=>{setModifiedDomaine({dom_nom:\"\",dom_id:\"\"});setShowModal(true);setIsEditing(false);// Définition du mode édition à faux lors de l'ajout\n};const columns=[{dataField:\"dom_nom\",text:\"Nom\"},{dataField:\"dom_icone\",text:\"Icone actuelle\",formatter:(cellContent,row)=>/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>handleShowImage(row.dom_icone),children:\"Voir l'icone\"})},{dataField:\"dom_id\",text:\"Modifier\",formatter:(cellContent,row)=>/*#__PURE__*/_jsx(Button,{onClick:()=>handleEdit(row),children:\"Modifier\"})}];return/*#__PURE__*/_jsx(\"div\",{style:{height:\"100vh\",width:\"100%\"},children:/*#__PURE__*/_jsx(Box,{width:\"80%\",height:\"90%\",sx:{overflowY:\"auto\",\"&::-webkit-scrollbar\":{display:\"none\"},scrollbarWidth:\"none\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:()=>handleAdd(),children:\"Ajouter un nouveau domaine\"}),/*#__PURE__*/_jsx(BootstrapTable,{keyField:\"id\",data:Array.isArray(data)?data:[],columns:columns}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:handleCloseModal,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[isEditing?\"Modifier\":\"Ajouter\",\" le domaine\"]})}),/*#__PURE__*/_jsx(Modal.Body,{children:(selectedDomaine||!isEditing)&&/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formNom\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nom\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"dom_nom\",value:modifiedDomaine?modifiedDomaine.dom_nom:\"\",onChange:handleInputChange}),!isEditing&&/*#__PURE__*/_jsx(Form.Text,{className:\"text-danger\",children:errors.dom_nom})]})}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formImage\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Icone\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",accept:\"image/*\",name:\"dom_icone\",onChange:handleInputChange}),!isEditing&&/*#__PURE__*/_jsx(Form.Text,{className:\"text-danger\",children:errors.dom_icone})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseModal,children:\"Fermer\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleValidation,children:\"Enregistrer\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showImageModal,onHide:handleCloseImageModal,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Icone\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[console.log(\"/images/\"+selectedImage),selectedImage&&/*#__PURE__*/_jsx(\"img\",{src:\"/images/\"+selectedImage,alt:\"icone du domaine\",style:{maxWidth:\"100%\"}})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseImageModal,children:\"Fermer\"})})]})]})})});};export default Domaine;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","BootstrapTable","Button","Modal","Form","Box","jsx","_jsx","jsxs","_jsxs","Domaine","navigate","data","setData","selectedDomaine","setSelectedDomaine","modifiedDomaine","setModifiedDomaine","showModal","setShowModal","showImageModal","setShowImageModal","selectedImage","setSelectedImage","errors","setErrors","dom_nom","dom_icone","isEditing","setIsEditing","fetchData","response","fetch","headers","accessToken","sessionStorage","getItem","ok","console","error","status","jsonData","json","newData","columns","map","item","dom_id","message","handleInputChange","e","name","value","files","target","prevState","prevErrors","validateForm","newErrors","Object","values","every","updateTableData","updatedData","handleValidation","id","image","validation","log","formData","FormData","append","url","method","body","then","returnimage","index","findIndex","handleCloseModal","handleShowImageModal","handleCloseImageModal","handleShowImage","imageUrl","handleEdit","domaine","handleAdd","dataField","text","formatter","cellContent","row","variant","onClick","children","style","height","width","sx","overflowY","display","scrollbarWidth","className","keyField","Array","isArray","show","onHide","centered","Header","closeButton","Title","Body","Group","controlId","Label","Control","type","onChange","Text","accept","Footer","src","alt","maxWidth"],"sources":["C:/Users/abdou/Documents/S9-S10/ProjetFinDetudes/Jalon3/v2/demo - Copie/server/client/src/Components/Domaine/Domaine.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Box from \"@mui/material/Box\";\r\nconst Domaine = () => {\r\n  const navigate = useNavigate();\r\n  const [data, setData] = useState([]);\r\n  const [selectedDomaine, setSelectedDomaine] = useState(null);\r\n  const [modifiedDomaine, setModifiedDomaine] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n  const [errors, setErrors] = useState({\r\n    dom_nom: \"\",\r\n    dom_icone: \"\",\r\n  });\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          \"/domaine/alldomaines\",\r\n          {\r\n            headers: {\r\n              accessToken: sessionStorage.getItem(\"accessToken\"),\r\n            },\r\n          }\r\n        );\r\n        if (!response.ok) {\r\n          console.error(\r\n            \"Erreur lors de la récupération des données:\",\r\n            response.status\r\n          );\r\n          navigate(\"/\");\r\n          return;\r\n        }\r\n        const jsonData = await response.json();\r\n\r\n        const newData = jsonData.columns.map((item) => ({\r\n          dom_id: item.dom_id,\r\n          dom_nom: item.dom_nom,\r\n          dom_icone: item.dom_icone,\r\n        }));\r\n        setData(newData);\r\n      } catch (error) {\r\n        console.error(\r\n          \"Erreur lors de la récupération des données:\",\r\n          error.message\r\n        );\r\n        navigate(\"/\");\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [navigate]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    if (files) {\r\n      setModifiedDomaine((prevState) => ({\r\n        ...prevState,\r\n        [name]: files[0],\r\n      }));\r\n      setErrors((prevErrors) => ({\r\n        ...prevErrors,\r\n        dom_icone: \"\",\r\n      }));\r\n    } else {\r\n      setModifiedDomaine((prevState) => ({\r\n        ...prevState,\r\n        [name]: value,\r\n      }));\r\n      setErrors((prevErrors) => ({\r\n        ...prevErrors,\r\n        dom_nom: \"\",\r\n      }));\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = { ...errors };\r\n    if (!modifiedDomaine.dom_nom) {\r\n      newErrors.dom_nom = \"Veuillez entrer un nom de domaine\";\r\n    } else {\r\n      newErrors.dom_nom = \"\";\r\n    }\r\n\r\n    if (!modifiedDomaine.dom_icone) {\r\n      newErrors.dom_icone = \"Veuillez importer une icone\";\r\n    } else {\r\n      newErrors.dom_icone = \"\";\r\n    }\r\n\r\n    setErrors(newErrors);\r\n\r\n    // Le formulaire est valide s'il n'y a pas d'erreurs\r\n    return Object.values(newErrors).every((error) => !error);\r\n  };\r\n\r\n  const updateTableData = (updatedData) => {\r\n    setData(updatedData);\r\n  };\r\n\r\n  const handleValidation = async () => {\r\n    try {\r\n      var id = null\r\n      var image = null\r\n      var validation = null;\r\n      if (!isEditing) {\r\n        validation = validateForm();\r\n        if (!validation) {\r\n          console.log(\"error\");\r\n          return;\r\n        }\r\n      }\r\n\r\n      const formData = new FormData();\r\n\r\n      formData.append(\"dom_nom\", modifiedDomaine.dom_nom);\r\n      formData.append(\"dom_id\", modifiedDomaine.dom_id);\r\n      if (modifiedDomaine.dom_icone) {\r\n        formData.append(\"image\", modifiedDomaine.dom_icone);\r\n      }\r\n\r\n      const url = isEditing\r\n        ? \"/domaine/updatedomaines\"\r\n        : \"/domaine/adddomaines\";\r\n     const response =  await fetch(url, {\r\n        method: isEditing ? \"PUT\" : \"POST\",\r\n        headers: {\r\n          accessToken: sessionStorage.getItem(\"accessToken\"),\r\n        },\r\n        body: formData,\r\n      }).then(response => response.json())\r\n      .then(data => {\r\n        id = data.message;\r\n        image=data.returnimage\r\n      });\r\n      const updatedData = [...data];\r\n      const index = updatedData.findIndex(\r\n        (item) => item.dom_id === modifiedDomaine.dom_id\r\n      );\r\n      if (index !== -1) {\r\n        modifiedDomaine.dom_icone = image\r\n        updatedData[index] = modifiedDomaine\r\n        updateTableData(updatedData);\r\n      } else {\r\n        modifiedDomaine.dom_id = id; \r\n        modifiedDomaine.dom_icone = image\r\n        updateTableData(updatedData); \r\n      }\r\n      \r\n\r\n      handleCloseModal();\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de la validation des modifications:\", error);\r\n    }\r\n  };\r\n\r\n  const handleShowImageModal = () => {\r\n    setShowImageModal(true);\r\n  };\r\n\r\n  const handleCloseImageModal = () => {\r\n    setShowImageModal(false);\r\n  };\r\n\r\n  const handleShowImage = (imageUrl) => {\r\n    setSelectedImage(imageUrl);\r\n    handleShowImageModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n    setSelectedDomaine(null);\r\n    setModifiedDomaine(null);\r\n    setIsEditing(false); // Réinitialisation du mode édition après la fermeture de la modal\r\n  };\r\n\r\n  const handleEdit = (domaine) => {\r\n    setSelectedDomaine(domaine);\r\n    setModifiedDomaine({ ...domaine });\r\n    setShowModal(true);\r\n    setIsEditing(true); // Définition du mode édition à vrai\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    setModifiedDomaine({ dom_nom: \"\", dom_id: \"\" });\r\n    setShowModal(true);\r\n    setIsEditing(false); // Définition du mode édition à faux lors de l'ajout\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      dataField: \"dom_nom\",\r\n      text: \"Nom\",\r\n    },\r\n    {\r\n      dataField: \"dom_icone\",\r\n      text: \"Icone actuelle\",\r\n      formatter: (cellContent, row) => (\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => handleShowImage(row.dom_icone)}\r\n        >\r\n          Voir l'icone\r\n        </Button>\r\n      ),\r\n    },\r\n    {\r\n      dataField: \"dom_id\",\r\n      text: \"Modifier\",\r\n\r\n      formatter: (cellContent, row) => (\r\n        <Button onClick={() => handleEdit(row)}>Modifier</Button>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div style={{ height: \"100vh\", width: \"100%\"}}>\r\n      <Box\r\n      width=\"80%\"\r\n        height=\"90%\"\r\n        sx={{\r\n          overflowY: \"auto\",\r\n          \"&::-webkit-scrollbar\": {\r\n            display: \"none\",\r\n          },\r\n          scrollbarWidth: \"none\",\r\n        }}\r\n      >\r\n        <div className=\"container mt-5\">\r\n          <Button variant=\"success\" onClick={() => handleAdd()}>\r\n            Ajouter un nouveau domaine\r\n          </Button>\r\n          {/* </div> */}\r\n          <BootstrapTable\r\n            keyField=\"id\"\r\n            data={Array.isArray(data) ? data : []}\r\n            columns={columns}\r\n          />\r\n\r\n          <Modal show={showModal} onHide={handleCloseModal} centered>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>\r\n                {isEditing ? \"Modifier\" : \"Ajouter\"} le domaine\r\n              </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              {(selectedDomaine || !isEditing) && (\r\n                <Form>\r\n                  <Form>\r\n                    <Form.Group controlId=\"formNom\">\r\n                      <Form.Label>Nom</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        name=\"dom_nom\"\r\n                        value={modifiedDomaine ? modifiedDomaine.dom_nom : \"\"}\r\n                        onChange={handleInputChange}\r\n                      />\r\n                      {!isEditing && (\r\n                        <Form.Text className=\"text-danger\">\r\n                          {errors.dom_nom}\r\n                        </Form.Text>\r\n                      )}\r\n                    </Form.Group>\r\n                  </Form>\r\n\r\n                  <Form.Group controlId=\"formImage\">\r\n                    <Form.Label>Icone</Form.Label>\r\n                    <Form.Control\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      name=\"dom_icone\"\r\n                      onChange={handleInputChange}\r\n                    />\r\n                    {!isEditing && (\r\n                      <Form.Text className=\"text-danger\">\r\n                        {errors.dom_icone}\r\n                      </Form.Text>\r\n                    )}\r\n                  </Form.Group>\r\n                </Form>\r\n              )}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"secondary\" onClick={handleCloseModal}>\r\n                Fermer\r\n              </Button>\r\n              <Button variant=\"primary\" onClick={handleValidation}>\r\n                Enregistrer\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n\r\n          <Modal show={showImageModal} onHide={handleCloseImageModal} centered>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Icone</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n            {console.log(\"/images/\" + selectedImage)}\r\n              {selectedImage && (\r\n                <img\r\n                  src={\"/images/\" + selectedImage}\r\n                  \r\n                  alt=\"icone du domaine\"\r\n                  style={{ maxWidth: \"100%\" }}\r\n                />\r\n              )}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"secondary\" onClick={handleCloseImageModal}>\r\n                Fermer\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Domaine;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}