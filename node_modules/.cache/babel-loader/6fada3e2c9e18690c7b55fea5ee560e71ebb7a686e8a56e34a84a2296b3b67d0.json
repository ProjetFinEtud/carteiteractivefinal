{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{AppBar,Toolbar,Typography,IconButton}from'@mui/material';import HomeIcon from'@mui/icons-material/Home';import AccountCircleIcon from'@mui/icons-material/AccountCircle';import AssignmentIndIcon from'@mui/icons-material/AssignmentInd';import ExitToAppIcon from\"@mui/icons-material/ExitToApp\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NavBar(){const[authSession,setAuthSession]=useState(false);const[pageAccess,setPageAccess]=useState(\"\");useEffect(()=>{const fetchData=async()=>{try{const response=await fetch(\"/auth/verifAuth\",{headers:{accessToken:sessionStorage.getItem(\"accessToken\")}});if(response.status===202){setAuthSession(true);setPageAccess(\"dashbordAdmin\");}else if(response.status===203){setAuthSession(true);setPageAccess(\"dashbordExstudent\");}else if(response.status===204){setAuthSession(true);setPageAccess(\"dashbordStudent\");}else{setAuthSession(false);}}catch(error){//console.error(\"Error fetching data:\", error.message);\n}};fetchData();},[]);return/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",style:{marginBottom:\"60px\"},children:/*#__PURE__*/_jsx(Toolbar,{children:!authSession?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",sx:{flexGrow:1},children:\"Carte interactive\"}),/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",component:Link,to:\"/\",children:/*#__PURE__*/_jsx(HomeIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"inherit\",sx:{marginLeft:'10px'},children:\"Connexion\"}),/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",component:Link,to:\"/connexion\",children:/*#__PURE__*/_jsx(AccountCircleIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"inherit\",sx:{marginLeft:'10px'},children:\"Inscription\"}),/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",component:Link,to:\"/register\",children:/*#__PURE__*/_jsx(AssignmentIndIcon,{})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",sx:{flexGrow:1},children:\"Carte interactive\"}),/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",component:Link,to:\"/\",children:/*#__PURE__*/_jsx(HomeIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"inherit\",sx:{marginLeft:'10px'},children:\"Dashbord\"}),/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",component:Link,to:\"/\".concat(pageAccess),children:/*#__PURE__*/_jsx(AccountCircleIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"inherit\",sx:{marginLeft:'10px'},children:\"D\\xE9connexion\"}),/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",component:Link,to:\"/logout\",children:/*#__PURE__*/_jsx(ExitToAppIcon,{})})]})})});}export default NavBar;","map":{"version":3,"names":["React","useEffect","useState","Link","AppBar","Toolbar","Typography","IconButton","HomeIcon","AccountCircleIcon","AssignmentIndIcon","ExitToAppIcon","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","NavBar","authSession","setAuthSession","pageAccess","setPageAccess","fetchData","response","fetch","headers","accessToken","sessionStorage","getItem","status","error","position","style","marginBottom","children","variant","component","sx","flexGrow","color","to","marginLeft","concat"],"sources":["C:/Users/abdou/Documents/S9-S10/ProjetFinDetudes/Jalon3/v2/demo - Copie/server/client/src/Components/NavBar.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppBar, Toolbar, Typography, IconButton } from '@mui/material';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport AssignmentIndIcon from '@mui/icons-material/AssignmentInd';\r\nimport ExitToAppIcon from \"@mui/icons-material/ExitToApp\";\r\n\r\nfunction NavBar() {\r\n  const [authSession, setAuthSession] = useState(false);\r\n  const [pageAccess, setPageAccess] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(\"/auth/verifAuth\", {\r\n          headers: {\r\n            accessToken: sessionStorage.getItem(\"accessToken\"),\r\n          },\r\n        });\r\n\r\n        if (response.status === 202) {\r\n          setAuthSession(true);\r\n          setPageAccess(\"dashbordAdmin\");\r\n        } else if (response.status === 203) {\r\n          setAuthSession(true);\r\n          setPageAccess(\"dashbordExstudent\");\r\n        } else if (response.status === 204) {\r\n          setAuthSession(true);\r\n          setPageAccess(\"dashbordStudent\");\r\n        } else {\r\n          setAuthSession(false);\r\n        }\r\n      } catch (error) {\r\n        //console.error(\"Error fetching data:\", error.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <AppBar position=\"fixed\" style={{marginBottom:\"60px\"}}>\r\n      <Toolbar>\r\n        {!authSession ? (\r\n          <>\r\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n              Carte interactive\r\n            </Typography>\r\n            <IconButton color=\"inherit\" component={Link} to=\"/\">\r\n              <HomeIcon />\r\n            </IconButton>\r\n            <Typography variant=\"body1\" color=\"inherit\" sx={{ marginLeft: '10px' }}>\r\n              Connexion\r\n            </Typography>\r\n            <IconButton color=\"inherit\" component={Link} to=\"/connexion\">\r\n              <AccountCircleIcon />\r\n            </IconButton>\r\n            <Typography variant=\"body1\" color=\"inherit\" sx={{ marginLeft: '10px' }}>\r\n              Inscription\r\n            </Typography>\r\n            <IconButton color=\"inherit\" component={Link} to=\"/register\">\r\n              <AssignmentIndIcon />\r\n            </IconButton>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n              Carte interactive\r\n            </Typography>\r\n            <IconButton color=\"inherit\" component={Link} to=\"/\">\r\n              <HomeIcon />\r\n            </IconButton>\r\n            <Typography variant=\"body1\" color=\"inherit\" sx={{ marginLeft: '10px' }}>\r\n              Dashbord\r\n            </Typography>\r\n            <IconButton color=\"inherit\" component={Link} to={`/${pageAccess}`}>\r\n              <AccountCircleIcon />\r\n            </IconButton>\r\n            <Typography variant=\"body1\" color=\"inherit\" sx={{ marginLeft: '10px' }}>\r\n              DÃ©connexion\r\n            </Typography>\r\n            <IconButton color=\"inherit\" component={Link} to=\"/logout\">\r\n              <ExitToAppIcon />\r\n            </IconButton>\r\n          </>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}