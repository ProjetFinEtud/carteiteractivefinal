{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Typography from\"@mui/material/Typography\";import CssBaseline from\"@mui/material/CssBaseline\";import Container from\"@mui/material/Container\";import Paper from\"@mui/material/Paper\";import Grid from\"@mui/material/Grid\";import TextField from\"@mui/material/TextField\";import Select from\"@mui/material/Select\";import MenuItem from\"@mui/material/MenuItem\";import InputLabel from\"@mui/material/InputLabel\";import Button from\"@mui/material/Button\";import{Form}from\"react-bootstrap\";import{useNavigate}from\"react-router-dom\";import Checkbox from\"@mui/material/Checkbox\";import FormControlLabel from\"@mui/material/FormControlLabel\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){const navigate=useNavigate();const[validationSuccess,setValidationSuccess]=useState(false);const generateYears=()=>{const currentYear=new Date().getFullYear();const years=[];for(let i=0;i<2;i++){years.push(currentYear-i);}return years;};const years=generateYears();const[formData,setFormData]=useState({nom:\"\",prenom:\"\",email:\"\",master:\"\",annee:\"\"});const[errors,setErrors]=useState({nom:\"\",prenom:\"\",email:\"\",master:\"\",annee:\"\",validation:\"\",politique:\"\"});const[checked,setChecked]=useState(false);const validateForm=()=>{const newErrors={...errors};if(!formData.nom){newErrors.nom=\"Veuillez entrer votre nom\";}else{newErrors.nom=\"\";}// Valider le champ Prénom\nif(!formData.prenom){newErrors.prenom=\"Veuillez entrer votre prénom\";}else{newErrors.prenom=\"\";}// Valider le champ Email\nif(!formData.email){newErrors.email=\"Veuillez entrer votre email\";}else{newErrors.email=\"\";}// Valider le champ Email\nif(!formData.email||!formData.email.includes(\"@etudiant.univ\")){newErrors.email=\"Veuillez entrer votre email étudiant\";}else{newErrors.email=\"\";}// Valider le champ Diplome\nif(!formData.master){newErrors.master=\"Veuillez sélectionné un diplôme\";}else{newErrors.master=\"\";}if(!formData.annee){newErrors.annee=\"Veuillez sélectionné une année\";}else{newErrors.annee=\"\";}if(!checked){newErrors.politique=\"Veuillez cochez la politique d'utilisation\";}setErrors(newErrors);// Le formulaire est valide s'il n'y a pas d'erreurs\nreturn Object.values(newErrors).every(error=>!error);};const[loading,setLoading]=useState(true);const[masterOptions,setMasterOptions]=useState([]);useEffect(()=>{const fetchData=async()=>{try{const responseMaster=await fetch(\"/auth/allMaster\");const jsonData=await responseMaster.json();const newData=jsonData.columns.map(item=>({mas_id:item.mas_id,mas_nom:item.mas_nom}));setMasterOptions(newData);}catch(error){console.error(\"Error fetching data:\",error);}finally{setLoading(false);}};fetchData();},[]);const handleFieldChange=(field,value)=>{//const sanitizedValue = value.trim();\nsetFormData({...formData,[field]:value});setErrors(prevData=>({...prevData,[field]:\"\"}));setErrors(prevData=>({...prevData,validation:\"\"}));};const handleValidation=async event=>{event.preventDefault();const formIsValid=validateForm();if(!formIsValid){return;}else{const apiResponse=await fetch(\"/auth/createstudent\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});if(!apiResponse.ok){// Si le statut n'est pas OK (200)\nif(apiResponse.status===400){setErrors(prevData=>({...prevData,validation:\"Vous êtes déjà inscrit\"}));}else{setErrors(prevData=>({...prevData,validation:\"Veuillez réessayer ultérieurement\"}));}return;}else{setValidationSuccess(true);}}setTimeout(()=>{navigate(\"/\");},2000);};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(!masterOptions){return/*#__PURE__*/_jsx(\"div\",{children:\"Error fetching data\"});}const handleChange=event=>{setChecked(event.target.checked);setErrors(prevData=>({...prevData,politique:\"\"}));};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"sm\",sx:{mb:4},children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",align:\"center\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Rejoingnez nous\"})}),/*#__PURE__*/_jsxs(Typography,{component:\"h1\",variant:\"h5\",align:\"center\",children:[/*#__PURE__*/_jsx(Form.Text,{className:\"text-danger\",children:errors.validation}),validationSuccess&&/*#__PURE__*/_jsx(Form.Text,{className:\"text-success\",children:\"F\\xE9licitations ! Votre compte est d\\xE9sormais en attente de validation. Vous recevrez un email d\\xE8s que votre compte sera activ\\xE9. N'h\\xE9sitez pas \\xE0 consulter \\xE9galement vos de spams.\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Information\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(TextField,{id:\"nom\",name:\"nom\",label:\"Nom\",fullWidth:true,autoComplete:\"given-name\",value:formData.nom,onChange:event=>handleFieldChange(\"nom\",event.target.value)}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-danger\",children:errors.nom})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(TextField,{id:\"prenom\",name:\"prenom\",label:\"Pr\\xE9nom\",fullWidth:true,autoComplete:\"family-name\",value:formData.prenom,onChange:event=>handleFieldChange(\"prenom\",event.target.value)}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-danger\",children:errors.prenom})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{id:\"email\",name:\"email\",label:\"Adresse mail\",fullWidth:true,autoComplete:\"email\",value:formData.email,onChange:event=>handleFieldChange(\"email\",event.target.value)}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-danger\",children:errors.email})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"master\",children:\"Master\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"master\",id:\"master\",value:formData.master,label:\"Master\",onChange:event=>handleFieldChange(\"master\",event.target.value),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"Choisissez votre master\"}),masterOptions.map(item=>/*#__PURE__*/_jsx(MenuItem,{value:item.mas_id,children:/*#__PURE__*/_jsx(\"em\",{children:item.mas_nom})},item.mas_id))]}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-danger\",children:errors.master})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"annee\",children:\"Promotion\"}),/*#__PURE__*/_jsx(Select,{labelId:\"annee\",id:\"annee\",value:formData.annee,label:\"annee\",onChange:event=>handleFieldChange(\"annee\",event.target.value),children:years.map(item=>/*#__PURE__*/_jsx(MenuItem,{value:item,children:/*#__PURE__*/_jsx(\"em\",{children:item})},item))}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-danger\",children:errors.annee})]})]}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:checked,onChange:handleChange})}),/*#__PURE__*/_jsx(Link,{to:\"/politique\",children:\"Voir la politique de confidentialit\\xE9\"}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-danger\",children:errors.politique}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"flex-end\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleValidation,children:\"Valider\"})})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","Typography","CssBaseline","Container","Paper","Grid","TextField","Select","MenuItem","InputLabel","Button","Form","useNavigate","Checkbox","FormControlLabel","Link","jsx","_jsx","jsxs","_jsxs","Register","navigate","validationSuccess","setValidationSuccess","generateYears","currentYear","Date","getFullYear","years","i","push","formData","setFormData","nom","prenom","email","master","annee","errors","setErrors","validation","politique","checked","setChecked","validateForm","newErrors","includes","Object","values","every","error","loading","setLoading","masterOptions","setMasterOptions","fetchData","responseMaster","fetch","jsonData","json","newData","columns","map","item","mas_id","mas_nom","console","handleFieldChange","field","value","prevData","handleValidation","event","preventDefault","formIsValid","apiResponse","method","headers","body","JSON","stringify","ok","status","setTimeout","children","handleChange","target","Fragment","component","maxWidth","sx","mb","variant","my","xs","md","p","align","Text","className","gutterBottom","container","spacing","sm","id","name","label","fullWidth","autoComplete","onChange","labelId","control","to","justifyContent","color","onClick"],"sources":["C:/Users/abdou/Documents/S9-S10/ProjetFinDetudes/Jalon3/v2/demo - Copie/server/client/src/Components/Auth/Register/Student/Register.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Typography from \"@mui/material/Typography\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Container from \"@mui/material/Container\";\nimport Paper from \"@mui/material/Paper\";\nimport Grid from \"@mui/material/Grid\";\nimport TextField from \"@mui/material/TextField\";\nimport Select from \"@mui/material/Select\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport Button from \"@mui/material/Button\";\nimport { Form } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport { Link } from \"react-router-dom\";\nexport default function Register() {\n  const navigate = useNavigate();\n  const [validationSuccess, setValidationSuccess] = useState(false);\n  const generateYears = () => {\n    const currentYear = new Date().getFullYear();\n    const years = [];\n    for (let i = 0; i < 2; i++) {\n      years.push(currentYear - i);\n    }\n    return years;\n  };\n\n  const years = generateYears();\n  const [formData, setFormData] = useState({\n    nom: \"\",\n    prenom: \"\",\n    email: \"\",\n    master: \"\",\n    annee: \"\",\n  });\n  const [errors, setErrors] = useState({\n    nom: \"\",\n    prenom: \"\",\n    email: \"\",\n    master: \"\",\n    annee: \"\",\n    validation: \"\",\n    politique: \"\",\n  });\n  const [checked, setChecked] = useState(false);\n\n  const validateForm = () => {\n    const newErrors = { ...errors };\n    if (!formData.nom) {\n      newErrors.nom = \"Veuillez entrer votre nom\";\n    } else {\n      newErrors.nom = \"\";\n    }\n\n    // Valider le champ Prénom\n    if (!formData.prenom) {\n      newErrors.prenom = \"Veuillez entrer votre prénom\";\n    } else {\n      newErrors.prenom = \"\";\n    }\n\n    // Valider le champ Email\n    if (!formData.email) {\n      newErrors.email = \"Veuillez entrer votre email\";\n    } else {\n      newErrors.email = \"\";\n    }\n    // Valider le champ Email\n    if (!formData.email || !formData.email.includes(\"@etudiant.univ\")) {\n      newErrors.email = \"Veuillez entrer votre email étudiant\";\n    } else {\n      newErrors.email = \"\";\n    }\n\n    // Valider le champ Diplome\n    if (!formData.master) {\n      newErrors.master = \"Veuillez sélectionné un diplôme\";\n    } else {\n      newErrors.master = \"\";\n    }\n\n    if (!formData.annee) {\n      newErrors.annee = \"Veuillez sélectionné une année\";\n    } else {\n      newErrors.annee = \"\";\n    }\n    if (!checked) {\n      newErrors.politique = \"Veuillez cochez la politique d'utilisation\";\n    }\n    setErrors(newErrors);\n\n    // Le formulaire est valide s'il n'y a pas d'erreurs\n    return Object.values(newErrors).every((error) => !error);\n  };\n\n  const [loading, setLoading] = useState(true);\n  const [masterOptions, setMasterOptions] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const responseMaster = await fetch(\n          \"/auth/allMaster\"\n        );\n        const jsonData = await responseMaster.json();\n        const newData = jsonData.columns.map((item) => ({\n          mas_id: item.mas_id,\n          mas_nom: item.mas_nom,\n        }));\n\n        setMasterOptions(newData);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleFieldChange = (field, value) => {\n    //const sanitizedValue = value.trim();\n    setFormData({\n      ...formData,\n      [field]: value,\n    });\n    setErrors((prevData) => ({ ...prevData, [field]: \"\" }));\n    setErrors((prevData) => ({ ...prevData, validation: \"\" }));\n  };\n\n  const handleValidation = async (event) => {\n    event.preventDefault();\n\n    const formIsValid = validateForm();\n    if (!formIsValid) {\n      return;\n    } else {\n      const apiResponse = await fetch(\n        \"/auth/createstudent\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(formData),\n        }\n      );\n\n      if (!apiResponse.ok) {\n        // Si le statut n'est pas OK (200)\n        if (apiResponse.status === 400) {\n          setErrors((prevData) => ({\n            ...prevData,\n            validation: \"Vous êtes déjà inscrit\",\n          }));\n        } else {\n          setErrors((prevData) => ({\n            ...prevData,\n            validation: \"Veuillez réessayer ultérieurement\",\n          }));\n        }\n        return;\n      } else {\n        setValidationSuccess(true);\n      }\n    }\n    setTimeout(() => {\n      navigate(\"/\");\n    }, 2000);\n  };\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (!masterOptions) {\n    return <div>Error fetching data</div>;\n  }\n\n  const handleChange = (event) => {\n    setChecked(event.target.checked);\n    setErrors((prevData) => ({\n      ...prevData,\n      politique: \"\",\n    }));\n  };\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <Container component=\"main\" maxWidth=\"sm\" sx={{ mb: 4 }}>\n        <Paper\n          variant=\"outlined\"\n          sx={{ my: { xs: 3, md: 6 }, p: { xs: 2, md: 3 } }}\n        >\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n            <em>Rejoingnez nous</em>\n          </Typography>\n          <Typography component=\"h1\" variant=\"h5\" align=\"center\">\n            <Form.Text className=\"text-danger\">{errors.validation}</Form.Text>\n            {validationSuccess && (\n              <Form.Text className=\"text-success\">\n                Félicitations ! Votre compte est désormais en attente de\n                validation. Vous recevrez un email dès que votre compte sera\n                activé. N'hésitez pas à consulter également vos de spams.\n              </Form.Text>\n            )}\n          </Typography>\n\n          <Typography variant=\"h6\" gutterBottom>\n            Information\n          </Typography>\n          <Grid container spacing={3}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                id=\"nom\"\n                name=\"nom\"\n                label=\"Nom\"\n                fullWidth\n                autoComplete=\"given-name\"\n                value={formData.nom}\n                onChange={(event) =>\n                  handleFieldChange(\"nom\", event.target.value)\n                }\n              />\n              <Form.Text className=\"text-danger\">{errors.nom}</Form.Text>\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                id=\"prenom\"\n                name=\"prenom\"\n                label=\"Prénom\"\n                fullWidth\n                autoComplete=\"family-name\"\n                value={formData.prenom}\n                onChange={(event) =>\n                  handleFieldChange(\"prenom\", event.target.value)\n                }\n              />\n              <Form.Text className=\"text-danger\">{errors.prenom}</Form.Text>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                id=\"email\"\n                name=\"email\"\n                label=\"Adresse mail\"\n                fullWidth\n                autoComplete=\"email\"\n                value={formData.email}\n                onChange={(event) =>\n                  handleFieldChange(\"email\", event.target.value)\n                }\n              />\n              <Form.Text className=\"text-danger\">{errors.email}</Form.Text>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <InputLabel id=\"master\">Master</InputLabel>\n              <Select\n                labelId=\"master\"\n                id=\"master\"\n                value={formData.master}\n                label=\"Master\"\n                onChange={(event) =>\n                  handleFieldChange(\"master\", event.target.value)\n                }\n              >\n                <MenuItem value=\"\">Choisissez votre master</MenuItem>\n                {masterOptions.map((item) => (\n                  <MenuItem key={item.mas_id} value={item.mas_id}>\n                    <em>{item.mas_nom}</em>\n                  </MenuItem>\n                ))}\n              </Select>\n              <Form.Text className=\"text-danger\">{errors.master}</Form.Text>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <InputLabel id=\"annee\">Promotion</InputLabel>\n              <Select\n                labelId=\"annee\"\n                id=\"annee\"\n                value={formData.annee}\n                label=\"annee\"\n                onChange={(event) =>\n                  handleFieldChange(\"annee\", event.target.value)\n                }\n              >\n                {years.map((item) => (\n                  <MenuItem key={item} value={item}>\n                    <em>{item}</em>\n                  </MenuItem>\n                ))}\n              </Select>\n              <Form.Text className=\"text-danger\">{errors.annee}</Form.Text>\n            </Grid>\n          </Grid>\n          <FormControlLabel\n            control={<Checkbox checked={checked} onChange={handleChange} />}\n          />\n          <Link to=\"/politique\">Voir la politique de confidentialité</Link>\n          <Form.Text className=\"text-danger\">{errors.politique}</Form.Text>\n          <Grid container justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleValidation}\n            >\n              Valider\n            </Button>\n          </Grid>\n        </Paper>\n      </Container>\n    </React.Fragment>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}