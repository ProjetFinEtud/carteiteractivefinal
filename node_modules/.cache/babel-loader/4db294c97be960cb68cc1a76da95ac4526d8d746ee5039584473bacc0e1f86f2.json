{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import TextField from\"@mui/material/TextField\";import CircularProgress from\"@mui/material/CircularProgress\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UserInfo=()=>{const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[userData,setUserData]=useState({stu_nom:\"\",stu_prenom:\"\",stu_email:\"\"});// Fonction pour récupérer les données de l'utilisateur depuis l'API\nconst fetchUserData=async()=>{try{const response=await fetch(\"/user/infoStudent\",{headers:{accessToken:sessionStorage.getItem(\"accessToken\")}});if(!response.ok){throw new Error(\"Erreur lors de la récupération des données\");}const jsonData=await response.json();setUserData(jsonData);}catch(error){console.error(\"Erreur lors de la récupération des données:\",error.message);setError(error.message);}finally{setLoading(false);}};useEffect(()=>{fetchUserData();},[]);if(loading){return/*#__PURE__*/_jsx(CircularProgress,{});}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Erreur: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\",backgroundColor:\"rgba(255, 255, 255, 0.8)\"},children:[/*#__PURE__*/_jsx(TextField,{label:\"Nom\",value:userData.stu_nom,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{label:\"Pr\\xE9nom\",value:userData.stu_prenom,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{label:\"Adresse email\",value:userData.stu_email,fullWidth:true,margin:\"normal\"})]});};export default UserInfo;","map":{"version":3,"names":["React","useState","useEffect","TextField","CircularProgress","jsx","_jsx","jsxs","_jsxs","UserInfo","loading","setLoading","error","setError","userData","setUserData","stu_nom","stu_prenom","stu_email","fetchUserData","response","fetch","headers","accessToken","sessionStorage","getItem","ok","Error","jsonData","json","console","message","children","style","padding","backgroundColor","label","value","fullWidth","margin"],"sources":["C:/Users/abdou/Documents/S9-S10/ProjetFinDetudes/Jalon3/v2/demo - Copie/server/client/src/Components/Utilisateurs/ProfilStudent/UserInfo.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\nconst UserInfo = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [userData, setUserData] = useState({\r\n    stu_nom: \"\",\r\n    stu_prenom: \"\",\r\n    stu_email: \"\",\r\n  });\r\n\r\n  // Fonction pour récupérer les données de l'utilisateur depuis l'API\r\n  const fetchUserData = async () => {\r\n    try {\r\n      const response = await fetch(\"/user/infoStudent\", {\r\n        headers: {\r\n          accessToken: sessionStorage.getItem(\"accessToken\"),\r\n        },\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(\"Erreur lors de la récupération des données\");\r\n      }\r\n      const jsonData = await response.json();\r\n      setUserData(jsonData);\r\n    } catch (error) {\r\n      console.error(\r\n        \"Erreur lors de la récupération des données:\",\r\n        error.message\r\n      );\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUserData();\r\n  }, []);\r\n\r\n\r\n  if (loading) {\r\n    return <CircularProgress />;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Erreur: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{ padding: \"20px\", backgroundColor: \"rgba(255, 255, 255, 0.8)\" }}\r\n    >\r\n      <TextField\r\n        label=\"Nom\"\r\n        value={userData.stu_nom}\r\n        fullWidth\r\n        margin=\"normal\"\r\n      />\r\n      <TextField\r\n        label=\"Prénom\"\r\n        value={userData.stu_prenom}\r\n        fullWidth\r\n        margin=\"normal\"\r\n      />\r\n      <TextField\r\n        label=\"Adresse email\"\r\n        value={userData.stu_email}\r\n        fullWidth\r\n        margin=\"normal\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,gBAAgB,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9D,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,CACvCe,OAAO,CAAE,EAAE,CACXC,UAAU,CAAE,EAAE,CACdC,SAAS,CAAE,EACb,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,mBAAmB,CAAE,CAChDC,OAAO,CAAE,CACPC,WAAW,CAAEC,cAAc,CAACC,OAAO,CAAC,aAAa,CACnD,CACF,CAAC,CAAC,CACF,GAAI,CAACL,QAAQ,CAACM,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,4CAA4C,CAAC,CAC/D,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CACtCd,WAAW,CAACa,QAAQ,CAAC,CACvB,CAAE,MAAOhB,KAAK,CAAE,CACdkB,OAAO,CAAClB,KAAK,CACX,6CAA6C,CAC7CA,KAAK,CAACmB,OACR,CAAC,CACDlB,QAAQ,CAACD,KAAK,CAACmB,OAAO,CAAC,CACzB,CAAC,OAAS,CACRpB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDT,SAAS,CAAC,IAAM,CACdiB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAGN,GAAIT,OAAO,CAAE,CACX,mBAAOJ,IAAA,CAACF,gBAAgB,GAAE,CAAC,CAC7B,CAEA,GAAIQ,KAAK,CAAE,CACT,mBAAOJ,KAAA,QAAAwB,QAAA,EAAK,UAAQ,CAACpB,KAAK,EAAM,CAAC,CACnC,CAEA,mBACEJ,KAAA,QACEyB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,eAAe,CAAE,0BAA2B,CAAE,CAAAH,QAAA,eAExE1B,IAAA,CAACH,SAAS,EACRiC,KAAK,CAAC,KAAK,CACXC,KAAK,CAAEvB,QAAQ,CAACE,OAAQ,CACxBsB,SAAS,MACTC,MAAM,CAAC,QAAQ,CAChB,CAAC,cACFjC,IAAA,CAACH,SAAS,EACRiC,KAAK,CAAC,WAAQ,CACdC,KAAK,CAAEvB,QAAQ,CAACG,UAAW,CAC3BqB,SAAS,MACTC,MAAM,CAAC,QAAQ,CAChB,CAAC,cACFjC,IAAA,CAACH,SAAS,EACRiC,KAAK,CAAC,eAAe,CACrBC,KAAK,CAAEvB,QAAQ,CAACI,SAAU,CAC1BoB,SAAS,MACTC,MAAM,CAAC,QAAQ,CAChB,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}